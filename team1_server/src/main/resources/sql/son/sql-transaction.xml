<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="bitc.fullstack503.team1_server.mapper.son.TransactionMapper">
  <insert id="insertTransaction" parameterType="bitc.fullstack503.team1_server.dto.TransactionDTO">
    insert into `transaction` (item_idx, user_id, `transaction`, `before`, `after`)
    values (#{itemIdx}, #{userId}, #{transaction}, #{before}, #{after})
  </insert>
  
  <select id="selectItemQuantity" parameterType="int" resultType="int">
    select quantity
    from item
    where idx = #{itemIdx}
  </select>
  
  <select id=" selectItemIdxByImage" parameterType="String" resultType="int">
    select idx
    from item
    where image = #{image}
  </select>
  
  <insert id="insertItemQrByIdx" parameterType="bitc.fullstack503.team1_server.dto.ItemDTO">
    insert into item (qr)
    values (#{qr}) where idx = #{itemIdx}
  </insert>
</mapper>